<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>Cyber Security & IT News - ARATechnology</title>
    <meta
      name="description"
      content="Latest industry news and updates related to Cyber Security and IT Training."
    />
    <meta
      name="keywords"
      content="IT news, cyber security news, hacker news, ARATechnology"
    />

    <link href="assets/img/favicon.png" rel="icon" />
    <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon" />

    <link href="https://fonts.googleapis.com" rel="preconnect" />
    <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&family=Montserrat:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
      rel="stylesheet"
    />

    <link
      href="assets/vendor/bootstrap/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="assets/vendor/bootstrap-icons/bootstrap-icons.css"
      rel="stylesheet"
    />
    <link href="assets/vendor/aos/aos.css" rel="stylesheet" />
    <link
      href="assets/vendor/glightbox/css/glightbox.min.css"
      rel="stylesheet"
    />
    <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet" />

    <link href="assets/css/main.css" rel="stylesheet" />
  </head>

  <body class="service-details-page">
    <header id="header" class="header d-flex align-items-center sticky-top">
      <div
        class="container-fluid container-xl position-relative d-flex align-items-center justify-content-between"
      >
        <a href="index.html" class="logo d-flex align-items-center">
          <img src="assets/img/logo_transparan.png" alt="ARATECHNOLOGY Logo" />
        </a>

        <nav id="navmenu" class="navmenu">
          <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="index.html#about">About</a></li>
            <li><a href="#" class="active">Services</a></li>
            <li><a href="index.html#contact">Contact</a></li>
          </ul>
          <i class="mobile-nav-toggle d-xl-none bi bi-list"></i>
        </nav>
      </div>
    </header>

    <main class="main">
      <div class="page-title">
        <div class="breadcrumbs">
          <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
              <li class="breadcrumb-item">
                <a href="index.html"><i class="bi bi-house"></i> Home</a>
              </li>
              <li class="breadcrumb-item active current">News</li>
            </ol>
          </nav>
        </div>

        <div class="title-wrapper">
          <h1>Cyber Security & IT News</h1>
          <p>
            Stay updated with the latest trends and threats relevant to our
            Cyber Security and IT Training services.
          </p>
        </div>
      </div>
      <section id="news-list" class="service-details section">
        <div class="container" data-aos="fade-up" data-aos-delay="100">
          <div class="row">
            <div class="col-lg-12">
              <div class="news-content">
                <div class="row gy-4 mt-4" id="news-list-container"></div>

                <div class="row mt-4">
                  <div class="col-12" id="pagination-container"></div>
                </div>

                <div class="text-center mt-5">
                  <button class="btn btn-primary" onclick="fetchNews()">
                    <i class="bi bi-arrow-clockwise"></i> Reload News Feed
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>

    <footer id="footer" class="footer dark-background">
      <div class="container footer-top">
        <div class="row gy-4">
          <div class="col-lg-5 col-md-12 footer-about">
            <a href="index.html" class="logo d-flex align-items-center">
              <span class="sitename">Aratechnology</span>
            </a>
            <p>
              PT ARATECH NUSANTARA INDONESIA is a company engaged in the
              computer industry and/or computer assembly, computer equipment
              industry, retail trade in computers and equipment, other computer
              programming activities, computer consulting and other computer
              facility management activities, information technology and other
              computer services, personal computer (Information and
              Communication Technology) educational services, computer repair
              and similar equipment.
            </p>
            <div class="social-links d-flex mt-4">
              <a href=""><i class="bi bi-linkedin"></i></a>
            </div>
          </div>

          <div class="col-lg-2 col-6 footer-links">
            <h4>Useful Links</h4>
            <ul>
              <li><a href="#">Home</a></li>
              <li><a href="#">About us</a></li>
              <li><a href="#">Services</a></li>
              <li><a href="#">Terms of service</a></li>
              <li><a href="#">Privacy policy</a></li>
            </ul>
          </div>

          <div class="col-lg-2 col-6 footer-links">
            <h4>Our Services</h4>
            <ul>
              <li><a href="#">Web Design</a></li>
              <li><a href="#">Web Development</a></li>
              <li><a href="#">Product Management</a></li>
              <li><a href="#">Marketing</a></li>
              <li><a href="#">Graphic Design</a></li>
            </ul>
          </div>
        </div>
      </div>

      <div class="container copyright text-center mt-4">
        Â© <strong class="px-1 sitename">Aratechnology 2026</strong>
      </div>
    </footer>
    <a
      href="#"
      id="scroll-top"
      class="scroll-top d-flex align-items-center justify-content-center"
      ><i class="bi bi-arrow-up-short"></i
    ></a>

    <div id="preloader"></div>

    <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="assets/vendor/php-email-form/validate.js"></script>
    <script src="assets/vendor/aos/aos.js"></script>
    <script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
    <script src="assets/vendor/purecounter/purecounter_vanilla.js"></script>
    <script src="assets/vendor/imagesloaded/imagesloaded.pkgd.min.js"></script>
    <script src="assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
    <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>

    <script src="assets/js/main.js"></script>

    <script>
      const API_URL = "https://news.aratechnology.id/api/news/cyber";

      const ITEMS_PER_PAGE = 5;
      let currentPage = 1;
      let allArticles = [];

      function fetchNews() {
        const container = document.getElementById("news-list-container");
        const paginationContainer = document.getElementById(
          "pagination-container"
        );
        container.innerHTML =
          '<div class="col-12 text-center"><p>Loading news...</p></div>';
        paginationContainer.innerHTML = "";

        fetch(API_URL)
          .then((response) => {
            if (!response.ok) {
              throw new Error(`HTTP error! status: ${response.status}`);
            }
            return response.json();
          })
          .then((data) => {
            if (
              data.status === "success" &&
              data.articles &&
              data.articles.length > 0
            ) {
              allArticles = data.articles;
              renderNewsPage(1);
            } else {
              container.innerHTML =
                '<div class="col-12 text-center"><p class="text-danger">Failed to retrieve news. Check API status or data format.</p></div>';
            }
          })
          .catch((error) => {
            console.error("Error fetching news:", error);
            container.innerHTML =
              '<div class="col-12 text-center"><p class="text-danger">An error occurred while connecting to the news API.</p></div>';
          });
      }

      // --- FUNGSI UNTUK MERENDER KONTEN BERITA BERDASARKAN HALAMAN ---
      function renderNewsPage(page) {
        currentPage = page;
        const container = document.getElementById("news-list-container");
        container.innerHTML = "";

        const totalPages = Math.ceil(allArticles.length / ITEMS_PER_PAGE);
        const start = (currentPage - 1) * ITEMS_PER_PAGE;
        const end = start + ITEMS_PER_PAGE;
        const articlesOnPage = allArticles.slice(start, end);

        articlesOnPage.forEach((article) => {
          const date = new Date(article.published).toLocaleDateString("en-US", {
            year: "numeric",
            month: "short",
            day: "numeric",
          });

          // Perbaikan styling card berita
          const html = `
                <div class="col-lg-12">
                    <article class="card p-4 shadow-sm h-100 border-0">
                        <div class="row">
                            <div class="col-md-12">
                                <h4 class="card-title" style="font-size: 1.25rem;">
                                    <a href="${
                                      article.link
                                    }" target="_blank" class="text-dark">${
            article.title
          }</a>
                                </h4>
                                <p class="card-text text-muted">${
                                  article.summary
                                }</p>
                                <footer class="blockquote-footer mt-2 small">
                                    Source: <cite title="Source">${
                                      article.source || "API Feed"
                                    }</cite> | Published: ${date}
                                </footer>
                            </div>
                        </div>
                    </article>
                </div>
            `;
          container.innerHTML += html;
        });

        renderPagination(totalPages);
      }

      // --- FUNGSI UNTUK MERENDER NAVIGASI PAGINASI ---
      function renderPagination(totalPages) {
        const paginationContainer = document.getElementById(
          "pagination-container"
        );
        paginationContainer.innerHTML = "";

        // Cek apakah perlu paginasi
        if (totalPages <= 1) return;

        let paginationHtml =
          '<nav aria-label="Page navigation"><ul class="pagination justify-content-center">';

        // Tombol Previous
        paginationHtml += `
            <li class="page-item ${currentPage === 1 ? "disabled" : ""}">
                <a class="page-link" href="#" onclick="renderNewsPage(${
                  currentPage - 1
                })">Previous</a>
            </li>
        `;

        // Tombol Halaman (hanya tampilkan halaman yang relevan)
        for (let i = 1; i <= totalPages; i++) {
          paginationHtml += `
                <li class="page-item ${i === currentPage ? "active" : ""}">
                    <a class="page-link" href="#" onclick="renderNewsPage(${i})">${i}</a>
                </li>
            `;
        }

        // Tombol Next
        paginationHtml += `
            <li class="page-item ${
              currentPage === totalPages ? "disabled" : ""
            }">
                <a class="page-link" href="#" onclick="renderNewsPage(${
                  currentPage + 1
                })">Next</a>
            </li>
        `;

        paginationHtml += "</ul></nav>";
        paginationContainer.innerHTML = paginationHtml;
      }

      // Panggil fetchNews saat halaman dimuat
      window.onload = fetchNews;
    </script>
  </body>
</html>
